# Music Upload Service Configuration

[server]
host = "0.0.0.0"
port = 8080

[database]
# SQLite database file (will be created automatically)
url = "sqlite:./data/music_upload.db"
max_connections = 5

[paths]
# Main Navidrome music directory
music_dir = "/srv/navidrome/music"
# Temporary directory for uploads and processing
temp_dir = "/srv/navidrome/music/tmp"
# Path to the Ferric executable
ferric_path = "/usr/local/bin/ferric"
# Enable Ferric audio processing (default: false - files moved directly without processing)
# Set to true to enable FLACâ†’OPUS conversion, metadata tagging, and organization
ferric_enabled = false

[security]
# Secret key for JWT tokens (generate with: openssl rand -base64 32)
jwt_secret = "your-secret-key-here-change-this"
# Session timeout in hours
session_timeout_hours = 24

[upload]
# Maximum file size in MB
max_file_size_mb = 500
# Allowed file extensions
allowed_extensions = ["mp3", "flac", "ogg", "opus", "m4a", "wav", "aac"]

[youtube]
# Enable YouTube download feature
enabled = true
# yt-dlp path (or just "yt-dlp" if in PATH)
ytdlp_path = "yt-dlp"
# Audio format preference (opus, mp3, m4a, etc.)
audio_format = "opus"
# Format selector passed to yt-dlp (--format)
format_selector = "bestaudio/best"
# Player client hint for yt-dlp extractor (android is most reliable, web/ios alternatives)
player_client = "android"
# Extra raw arguments appended before the URL
extra_args = []

[spotify]
# Enable Spotify downloads via spotdl
enabled = false
# Path to spotdl executable (or just "spotdl" if in PATH)
spotdl_path = "spotdl"
# Audio format preference (opus, mp3, m4a, flac, etc.)
audio_format = "opus"
# Spotify API client ID (obtain from https://developer.spotify.com)
client_id = ""
# Spotify API client secret
client_secret = ""
# Redirect URI for OAuth (must match Spotify app settings)
redirect_uri = "http://localhost:8080/api/spotify/callback"
